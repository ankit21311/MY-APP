"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/extract-link";
exports.ids = ["pages/api/extract-link"];
exports.modules = {

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "cheerio":
/*!**************************!*\
  !*** external "cheerio" ***!
  \**************************/
/***/ ((module) => {

module.exports = import("cheerio");;

/***/ }),

/***/ "(api)/./pages/api/extract-link.js":
/*!***********************************!*\
  !*** ./pages/api/extract-link.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"cheerio\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { url  } = req.body;\n    if (!url) {\n        return res.status(400).json({\n            error: \"URL is required\"\n        });\n    }\n    try {\n        const urlObj = new URL(url);\n        const domain = urlObj.hostname;\n        const siteName = domain.replace(\"www.\", \"\").split(\".\")[0];\n        const capitalizedSite = siteName.charAt(0).toUpperCase() + siteName.slice(1);\n        // Predefined known sites that block scraping, with static info\n        const knownSites = {\n            \"linkedin.com\": {\n                title: \"LinkedIn Profile\",\n                favicon: \"https://static.licdn.com/sc/h/akt4ae504epesldzj74dzyed8\",\n                imageUrl: null\n            },\n            \"facebook.com\": {\n                title: \"Facebook Page\",\n                favicon: \"https://static.xx.fbcdn.net/rsrc.php/yD/r/d4ZIVX-5C-b.ico\",\n                imageUrl: null\n            },\n            \"instagram.com\": {\n                title: \"Instagram Post\",\n                favicon: \"https://static.cdninstagram.com/rsrc.php/v3/yR/r/lam-fZmwmvn.png\",\n                imageUrl: null\n            },\n            \"twitter.com\": {\n                title: \"Twitter Post\",\n                favicon: \"https://abs.twimg.com/responsive-web/client-web/icon-ios.b1fc727a.png\",\n                imageUrl: null\n            },\n            \"medium.com\": {\n                title: \"Medium Article\",\n                favicon: \"https://medium.com/favicon.ico\",\n                imageUrl: null\n            }\n        };\n        for(const siteDomain in knownSites){\n            if (domain.includes(siteDomain)) {\n                // Try to append last path segment to title if meaningful\n                const pathParts = urlObj.pathname.split(\"/\").filter(Boolean);\n                if (pathParts.length > 0) {\n                    const lastPart = pathParts[pathParts.length - 1].replace(/-/g, \" \");\n                    if (lastPart && lastPart.length > 3) {\n                        knownSites[siteDomain].title += `: ${lastPart.charAt(0).toUpperCase() + lastPart.slice(1)}`;\n                    }\n                }\n                return res.status(200).json(knownSites[siteDomain]);\n            }\n        }\n        // Fetch page HTML for other sites\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\",\n                \"Accept\": \"text/html,application/xhtml+xml,application/xml\",\n                \"Accept-Language\": \"en-US,en;q=0.9\",\n                \"Cache-Control\": \"no-cache\"\n            },\n            timeout: 8000,\n            maxRedirects: 5\n        });\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__[\"default\"].load(response.data);\n        // Extract title with fallbacks\n        let title = $(\"title\").text().trim() || $('meta[property=\"og:title\"]').attr(\"content\") || $('meta[name=\"twitter:title\"]').attr(\"content\") || $(\"h1\").first().text().trim() || `${capitalizedSite} Page`;\n        title = title.replace(/\\s+/g, \" \").trim();\n        if (title.length > 100) {\n            title = title.substring(0, 97) + \"...\";\n        }\n        // Extract favicon with fallbacks\n        let favicon = $('link[rel=\"icon\"]').attr(\"href\") || $('link[rel=\"shortcut icon\"]').attr(\"href\") || $('link[rel=\"apple-touch-icon\"]').attr(\"href\") || `//${domain}/favicon.ico`;\n        // Make favicon URL absolute if relative\n        if (favicon && !favicon.startsWith(\"http\") && !favicon.startsWith(\"//\")) {\n            favicon = favicon.startsWith(\"/\") ? `${urlObj.protocol}//${domain}${favicon}` : `${urlObj.protocol}//${domain}/${favicon}`;\n        }\n        // Extract image URL with fallbacks\n        let imageUrl = $('meta[property=\"og:image\"]').attr(\"content\") || $('meta[name=\"twitter:image\"]').attr(\"content\") || $('link[rel=\"image_src\"]').attr(\"href\") || $(\"img[src]\").first().attr(\"src\") || null;\n        // Make image URL absolute if relative\n        if (imageUrl && !imageUrl.startsWith(\"http\") && !imageUrl.startsWith(\"//\")) {\n            imageUrl = imageUrl.startsWith(\"/\") ? `${urlObj.protocol}//${domain}${imageUrl}` : `${urlObj.protocol}//${domain}/${imageUrl}`;\n        }\n        return res.status(200).json({\n            title,\n            favicon,\n            imageUrl\n        });\n    } catch (error) {\n        console.error(\"Error extracting link data:\", error);\n        // Fallback: build title & favicon based on URL domain and path\n        try {\n            const urlObj = new URL(url);\n            const domain = urlObj.hostname;\n            const siteName = domain.replace(\"www.\", \"\").split(\".\")[0];\n            const capitalizedSite = siteName.charAt(0).toUpperCase() + siteName.slice(1);\n            const pathParts = urlObj.pathname.split(\"/\").filter(Boolean);\n            let pathInfo = \"\";\n            if (pathParts.length > 0) {\n                const lastPart = pathParts[pathParts.length - 1].replace(/-/g, \" \");\n                if (lastPart && lastPart.length > 3) {\n                    pathInfo = `: ${lastPart.charAt(0).toUpperCase() + lastPart.slice(1)}`;\n                }\n            }\n            return res.status(200).json({\n                title: `${capitalizedSite} Page${pathInfo}`,\n                favicon: `${urlObj.protocol}//${domain}/favicon.ico`,\n                imageUrl: null\n            });\n        } catch  {\n            return res.status(200).json({\n                title: url,\n                favicon: null,\n                imageUrl: null\n            });\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZXh0cmFjdC1saW5rLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQjtBQUNJO0FBRWYsZUFBZUUsUUFBUUMsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDOUMsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVELENBQUM7SUFFRCxNQUFNLEVBQUVDLElBQUcsRUFBRSxHQUFHTixJQUFJTyxJQUFJO0lBQ3hCLElBQUksQ0FBQ0QsS0FBSztRQUNSLE9BQU9MLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFrQjtJQUN6RCxDQUFDO0lBRUQsSUFBSTtRQUNGLE1BQU1HLFNBQVMsSUFBSUMsSUFBSUg7UUFDdkIsTUFBTUksU0FBU0YsT0FBT0csUUFBUTtRQUM5QixNQUFNQyxXQUFXRixPQUFPRyxPQUFPLENBQUMsUUFBUSxJQUFJQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDekQsTUFBTUMsa0JBQWtCSCxTQUFTSSxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLTCxTQUFTTSxLQUFLLENBQUM7UUFFMUUsK0RBQStEO1FBQy9ELE1BQU1DLGFBQWE7WUFDakIsZ0JBQWdCO2dCQUNkQyxPQUFPO2dCQUNQQyxTQUFTO2dCQUNUQyxVQUFVLElBQUk7WUFDaEI7WUFDQSxnQkFBZ0I7Z0JBQ2RGLE9BQU87Z0JBQ1BDLFNBQVM7Z0JBQ1RDLFVBQVUsSUFBSTtZQUNoQjtZQUNBLGlCQUFpQjtnQkFDZkYsT0FBTztnQkFDUEMsU0FBUztnQkFDVEMsVUFBVSxJQUFJO1lBQ2hCO1lBQ0EsZUFBZTtnQkFDYkYsT0FBTztnQkFDUEMsU0FBUztnQkFDVEMsVUFBVSxJQUFJO1lBQ2hCO1lBQ0EsY0FBYztnQkFDWkYsT0FBTztnQkFDUEMsU0FBUztnQkFDVEMsVUFBVSxJQUFJO1lBQ2hCO1FBQ0Y7UUFFQSxJQUFLLE1BQU1DLGNBQWNKLFdBQVk7WUFDbkMsSUFBSVQsT0FBT2MsUUFBUSxDQUFDRCxhQUFhO2dCQUMvQix5REFBeUQ7Z0JBQ3pELE1BQU1FLFlBQVlqQixPQUFPa0IsUUFBUSxDQUFDWixLQUFLLENBQUMsS0FBS2EsTUFBTSxDQUFDQztnQkFDcEQsSUFBSUgsVUFBVUksTUFBTSxHQUFHLEdBQUc7b0JBQ3hCLE1BQU1DLFdBQVdMLFNBQVMsQ0FBQ0EsVUFBVUksTUFBTSxHQUFHLEVBQUUsQ0FBQ2hCLE9BQU8sQ0FBQyxNQUFNO29CQUMvRCxJQUFJaUIsWUFBWUEsU0FBU0QsTUFBTSxHQUFHLEdBQUc7d0JBQ25DVixVQUFVLENBQUNJLFdBQVcsQ0FBQ0gsS0FBSyxJQUFJLENBQUMsRUFBRSxFQUFFVSxTQUFTZCxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLYSxTQUFTWixLQUFLLENBQUMsR0FBRyxDQUFDO29CQUM3RixDQUFDO2dCQUNILENBQUM7Z0JBQ0QsT0FBT2pCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNlLFVBQVUsQ0FBQ0ksV0FBVztZQUNwRCxDQUFDO1FBQ0g7UUFFQSxrQ0FBa0M7UUFDbEMsTUFBTVEsV0FBVyxNQUFNbEMsaURBQVMsQ0FBQ1MsS0FBSztZQUNwQzJCLFNBQVM7Z0JBQ1AsY0FBYztnQkFDZCxVQUFVO2dCQUNWLG1CQUFtQjtnQkFDbkIsaUJBQWlCO1lBQ25CO1lBQ0FDLFNBQVM7WUFDVEMsY0FBYztRQUNoQjtRQUVBLE1BQU1DLElBQUl0QyxvREFBWSxDQUFDaUMsU0FBU08sSUFBSTtRQUVwQywrQkFBK0I7UUFDL0IsSUFBSWxCLFFBQ0ZnQixFQUFFLFNBQVNHLElBQUksR0FBR0MsSUFBSSxNQUN0QkosRUFBRSw2QkFBNkJLLElBQUksQ0FBQyxjQUNwQ0wsRUFBRSw4QkFBOEJLLElBQUksQ0FBQyxjQUNyQ0wsRUFBRSxNQUFNTSxLQUFLLEdBQUdILElBQUksR0FBR0MsSUFBSSxNQUMzQixDQUFDLEVBQUV6QixnQkFBZ0IsS0FBSyxDQUFDO1FBRTNCSyxRQUFRQSxNQUFNUCxPQUFPLENBQUMsUUFBUSxLQUFLMkIsSUFBSTtRQUN2QyxJQUFJcEIsTUFBTVMsTUFBTSxHQUFHLEtBQUs7WUFDdEJULFFBQVFBLE1BQU11QixTQUFTLENBQUMsR0FBRyxNQUFNO1FBQ25DLENBQUM7UUFFRCxpQ0FBaUM7UUFDakMsSUFBSXRCLFVBQ0ZlLEVBQUUsb0JBQW9CSyxJQUFJLENBQUMsV0FDM0JMLEVBQUUsNkJBQTZCSyxJQUFJLENBQUMsV0FDcENMLEVBQUUsZ0NBQWdDSyxJQUFJLENBQUMsV0FDdkMsQ0FBQyxFQUFFLEVBQUUvQixPQUFPLFlBQVksQ0FBQztRQUUzQix3Q0FBd0M7UUFDeEMsSUFBSVcsV0FBVyxDQUFDQSxRQUFRdUIsVUFBVSxDQUFDLFdBQVcsQ0FBQ3ZCLFFBQVF1QixVQUFVLENBQUMsT0FBTztZQUN2RXZCLFVBQVVBLFFBQVF1QixVQUFVLENBQUMsT0FDekIsQ0FBQyxFQUFFcEMsT0FBT3FDLFFBQVEsQ0FBQyxFQUFFLEVBQUVuQyxPQUFPLEVBQUVXLFFBQVEsQ0FBQyxHQUN6QyxDQUFDLEVBQUViLE9BQU9xQyxRQUFRLENBQUMsRUFBRSxFQUFFbkMsT0FBTyxDQUFDLEVBQUVXLFFBQVEsQ0FBQztRQUNoRCxDQUFDO1FBRUQsbUNBQW1DO1FBQ25DLElBQUlDLFdBQ0ZjLEVBQUUsNkJBQTZCSyxJQUFJLENBQUMsY0FDcENMLEVBQUUsOEJBQThCSyxJQUFJLENBQUMsY0FDckNMLEVBQUUseUJBQXlCSyxJQUFJLENBQUMsV0FDaENMLEVBQUUsWUFBWU0sS0FBSyxHQUFHRCxJQUFJLENBQUMsVUFDM0IsSUFBSTtRQUVOLHNDQUFzQztRQUN0QyxJQUFJbkIsWUFBWSxDQUFDQSxTQUFTc0IsVUFBVSxDQUFDLFdBQVcsQ0FBQ3RCLFNBQVNzQixVQUFVLENBQUMsT0FBTztZQUMxRXRCLFdBQVdBLFNBQVNzQixVQUFVLENBQUMsT0FDM0IsQ0FBQyxFQUFFcEMsT0FBT3FDLFFBQVEsQ0FBQyxFQUFFLEVBQUVuQyxPQUFPLEVBQUVZLFNBQVMsQ0FBQyxHQUMxQyxDQUFDLEVBQUVkLE9BQU9xQyxRQUFRLENBQUMsRUFBRSxFQUFFbkMsT0FBTyxDQUFDLEVBQUVZLFNBQVMsQ0FBQztRQUNqRCxDQUFDO1FBRUQsT0FBT3JCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRWdCO1lBQU9DO1lBQVNDO1FBQVM7SUFDekQsRUFBRSxPQUFPakIsT0FBTztRQUNkeUMsUUFBUXpDLEtBQUssQ0FBQywrQkFBK0JBO1FBRTdDLCtEQUErRDtRQUMvRCxJQUFJO1lBQ0YsTUFBTUcsU0FBUyxJQUFJQyxJQUFJSDtZQUN2QixNQUFNSSxTQUFTRixPQUFPRyxRQUFRO1lBQzlCLE1BQU1DLFdBQVdGLE9BQU9HLE9BQU8sQ0FBQyxRQUFRLElBQUlDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN6RCxNQUFNQyxrQkFBa0JILFNBQVNJLE1BQU0sQ0FBQyxHQUFHQyxXQUFXLEtBQUtMLFNBQVNNLEtBQUssQ0FBQztZQUUxRSxNQUFNTyxZQUFZakIsT0FBT2tCLFFBQVEsQ0FBQ1osS0FBSyxDQUFDLEtBQUthLE1BQU0sQ0FBQ0M7WUFDcEQsSUFBSW1CLFdBQVc7WUFDZixJQUFJdEIsVUFBVUksTUFBTSxHQUFHLEdBQUc7Z0JBQ3hCLE1BQU1DLFdBQVdMLFNBQVMsQ0FBQ0EsVUFBVUksTUFBTSxHQUFHLEVBQUUsQ0FBQ2hCLE9BQU8sQ0FBQyxNQUFNO2dCQUMvRCxJQUFJaUIsWUFBWUEsU0FBU0QsTUFBTSxHQUFHLEdBQUc7b0JBQ25Da0IsV0FBVyxDQUFDLEVBQUUsRUFBRWpCLFNBQVNkLE1BQU0sQ0FBQyxHQUFHQyxXQUFXLEtBQUthLFNBQVNaLEtBQUssQ0FBQyxHQUFHLENBQUM7Z0JBQ3hFLENBQUM7WUFDSCxDQUFDO1lBRUQsT0FBT2pCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCZ0IsT0FBTyxDQUFDLEVBQUVMLGdCQUFnQixLQUFLLEVBQUVnQyxTQUFTLENBQUM7Z0JBQzNDMUIsU0FBUyxDQUFDLEVBQUViLE9BQU9xQyxRQUFRLENBQUMsRUFBRSxFQUFFbkMsT0FBTyxZQUFZLENBQUM7Z0JBQ3BEWSxVQUFVLElBQUk7WUFDaEI7UUFDRixFQUFFLE9BQU07WUFDTixPQUFPckIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJnQixPQUFPZDtnQkFDUGUsU0FBUyxJQUFJO2dCQUNiQyxVQUFVLElBQUk7WUFDaEI7UUFDRjtJQUNGO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xpbmstc2F2ZXIvLi9wYWdlcy9hcGkvZXh0cmFjdC1saW5rLmpzPzY5YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IGNoZWVyaW8gZnJvbSAnY2hlZXJpbyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyB1cmwgfSA9IHJlcS5ib2R5O1xyXG4gIGlmICghdXJsKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1VSTCBpcyByZXF1aXJlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xyXG4gICAgY29uc3QgZG9tYWluID0gdXJsT2JqLmhvc3RuYW1lO1xyXG4gICAgY29uc3Qgc2l0ZU5hbWUgPSBkb21haW4ucmVwbGFjZSgnd3d3LicsICcnKS5zcGxpdCgnLicpWzBdO1xyXG4gICAgY29uc3QgY2FwaXRhbGl6ZWRTaXRlID0gc2l0ZU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzaXRlTmFtZS5zbGljZSgxKTtcclxuXHJcbiAgICAvLyBQcmVkZWZpbmVkIGtub3duIHNpdGVzIHRoYXQgYmxvY2sgc2NyYXBpbmcsIHdpdGggc3RhdGljIGluZm9cclxuICAgIGNvbnN0IGtub3duU2l0ZXMgPSB7XHJcbiAgICAgICdsaW5rZWRpbi5jb20nOiB7XHJcbiAgICAgICAgdGl0bGU6ICdMaW5rZWRJbiBQcm9maWxlJyxcclxuICAgICAgICBmYXZpY29uOiAnaHR0cHM6Ly9zdGF0aWMubGljZG4uY29tL3NjL2gvYWt0NGFlNTA0ZXBlc2xkemo3NGR6eWVkOCcsXHJcbiAgICAgICAgaW1hZ2VVcmw6IG51bGwsXHJcbiAgICAgIH0sXHJcbiAgICAgICdmYWNlYm9vay5jb20nOiB7XHJcbiAgICAgICAgdGl0bGU6ICdGYWNlYm9vayBQYWdlJyxcclxuICAgICAgICBmYXZpY29uOiAnaHR0cHM6Ly9zdGF0aWMueHguZmJjZG4ubmV0L3JzcmMucGhwL3lEL3IvZDRaSVZYLTVDLWIuaWNvJyxcclxuICAgICAgICBpbWFnZVVybDogbnVsbCxcclxuICAgICAgfSxcclxuICAgICAgJ2luc3RhZ3JhbS5jb20nOiB7XHJcbiAgICAgICAgdGl0bGU6ICdJbnN0YWdyYW0gUG9zdCcsXHJcbiAgICAgICAgZmF2aWNvbjogJ2h0dHBzOi8vc3RhdGljLmNkbmluc3RhZ3JhbS5jb20vcnNyYy5waHAvdjMveVIvci9sYW0tZlptd212bi5wbmcnLFxyXG4gICAgICAgIGltYWdlVXJsOiBudWxsLFxyXG4gICAgICB9LFxyXG4gICAgICAndHdpdHRlci5jb20nOiB7XHJcbiAgICAgICAgdGl0bGU6ICdUd2l0dGVyIFBvc3QnLFxyXG4gICAgICAgIGZhdmljb246ICdodHRwczovL2Ficy50d2ltZy5jb20vcmVzcG9uc2l2ZS13ZWIvY2xpZW50LXdlYi9pY29uLWlvcy5iMWZjNzI3YS5wbmcnLFxyXG4gICAgICAgIGltYWdlVXJsOiBudWxsLFxyXG4gICAgICB9LFxyXG4gICAgICAnbWVkaXVtLmNvbSc6IHtcclxuICAgICAgICB0aXRsZTogJ01lZGl1bSBBcnRpY2xlJyxcclxuICAgICAgICBmYXZpY29uOiAnaHR0cHM6Ly9tZWRpdW0uY29tL2Zhdmljb24uaWNvJyxcclxuICAgICAgICBpbWFnZVVybDogbnVsbCxcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChjb25zdCBzaXRlRG9tYWluIGluIGtub3duU2l0ZXMpIHtcclxuICAgICAgaWYgKGRvbWFpbi5pbmNsdWRlcyhzaXRlRG9tYWluKSkge1xyXG4gICAgICAgIC8vIFRyeSB0byBhcHBlbmQgbGFzdCBwYXRoIHNlZ21lbnQgdG8gdGl0bGUgaWYgbWVhbmluZ2Z1bFxyXG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHVybE9iai5wYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcclxuICAgICAgICBpZiAocGF0aFBhcnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IGxhc3RQYXJ0ID0gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXS5yZXBsYWNlKC8tL2csICcgJyk7XHJcbiAgICAgICAgICBpZiAobGFzdFBhcnQgJiYgbGFzdFBhcnQubGVuZ3RoID4gMykge1xyXG4gICAgICAgICAgICBrbm93blNpdGVzW3NpdGVEb21haW5dLnRpdGxlICs9IGA6ICR7bGFzdFBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBsYXN0UGFydC5zbGljZSgxKX1gO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oa25vd25TaXRlc1tzaXRlRG9tYWluXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGZXRjaCBwYWdlIEhUTUwgZm9yIG90aGVyIHNpdGVzXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCh1cmwsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85Ni4wLjQ2NjQuMTEwIFNhZmFyaS81MzcuMzYnLFxyXG4gICAgICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWwnLFxyXG4gICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLFxyXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcclxuICAgICAgfSxcclxuICAgICAgdGltZW91dDogODAwMCxcclxuICAgICAgbWF4UmVkaXJlY3RzOiA1LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXNwb25zZS5kYXRhKTtcclxuXHJcbiAgICAvLyBFeHRyYWN0IHRpdGxlIHdpdGggZmFsbGJhY2tzXHJcbiAgICBsZXQgdGl0bGUgPVxyXG4gICAgICAkKCd0aXRsZScpLnRleHQoKS50cmltKCkgfHxcclxuICAgICAgJCgnbWV0YVtwcm9wZXJ0eT1cIm9nOnRpdGxlXCJdJykuYXR0cignY29udGVudCcpIHx8XHJcbiAgICAgICQoJ21ldGFbbmFtZT1cInR3aXR0ZXI6dGl0bGVcIl0nKS5hdHRyKCdjb250ZW50JykgfHxcclxuICAgICAgJCgnaDEnKS5maXJzdCgpLnRleHQoKS50cmltKCkgfHxcclxuICAgICAgYCR7Y2FwaXRhbGl6ZWRTaXRlfSBQYWdlYDtcclxuXHJcbiAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCk7XHJcbiAgICBpZiAodGl0bGUubGVuZ3RoID4gMTAwKSB7XHJcbiAgICAgIHRpdGxlID0gdGl0bGUuc3Vic3RyaW5nKDAsIDk3KSArICcuLi4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4dHJhY3QgZmF2aWNvbiB3aXRoIGZhbGxiYWNrc1xyXG4gICAgbGV0IGZhdmljb24gPVxyXG4gICAgICAkKCdsaW5rW3JlbD1cImljb25cIl0nKS5hdHRyKCdocmVmJykgfHxcclxuICAgICAgJCgnbGlua1tyZWw9XCJzaG9ydGN1dCBpY29uXCJdJykuYXR0cignaHJlZicpIHx8XHJcbiAgICAgICQoJ2xpbmtbcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiXScpLmF0dHIoJ2hyZWYnKSB8fFxyXG4gICAgICBgLy8ke2RvbWFpbn0vZmF2aWNvbi5pY29gO1xyXG5cclxuICAgIC8vIE1ha2UgZmF2aWNvbiBVUkwgYWJzb2x1dGUgaWYgcmVsYXRpdmVcclxuICAgIGlmIChmYXZpY29uICYmICFmYXZpY29uLnN0YXJ0c1dpdGgoJ2h0dHAnKSAmJiAhZmF2aWNvbi5zdGFydHNXaXRoKCcvLycpKSB7XHJcbiAgICAgIGZhdmljb24gPSBmYXZpY29uLnN0YXJ0c1dpdGgoJy8nKVxyXG4gICAgICAgID8gYCR7dXJsT2JqLnByb3RvY29sfS8vJHtkb21haW59JHtmYXZpY29ufWBcclxuICAgICAgICA6IGAke3VybE9iai5wcm90b2NvbH0vLyR7ZG9tYWlufS8ke2Zhdmljb259YDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeHRyYWN0IGltYWdlIFVSTCB3aXRoIGZhbGxiYWNrc1xyXG4gICAgbGV0IGltYWdlVXJsID1cclxuICAgICAgJCgnbWV0YVtwcm9wZXJ0eT1cIm9nOmltYWdlXCJdJykuYXR0cignY29udGVudCcpIHx8XHJcbiAgICAgICQoJ21ldGFbbmFtZT1cInR3aXR0ZXI6aW1hZ2VcIl0nKS5hdHRyKCdjb250ZW50JykgfHxcclxuICAgICAgJCgnbGlua1tyZWw9XCJpbWFnZV9zcmNcIl0nKS5hdHRyKCdocmVmJykgfHxcclxuICAgICAgJCgnaW1nW3NyY10nKS5maXJzdCgpLmF0dHIoJ3NyYycpIHx8XHJcbiAgICAgIG51bGw7XHJcblxyXG4gICAgLy8gTWFrZSBpbWFnZSBVUkwgYWJzb2x1dGUgaWYgcmVsYXRpdmVcclxuICAgIGlmIChpbWFnZVVybCAmJiAhaW1hZ2VVcmwuc3RhcnRzV2l0aCgnaHR0cCcpICYmICFpbWFnZVVybC5zdGFydHNXaXRoKCcvLycpKSB7XHJcbiAgICAgIGltYWdlVXJsID0gaW1hZ2VVcmwuc3RhcnRzV2l0aCgnLycpXHJcbiAgICAgICAgPyBgJHt1cmxPYmoucHJvdG9jb2x9Ly8ke2RvbWFpbn0ke2ltYWdlVXJsfWBcclxuICAgICAgICA6IGAke3VybE9iai5wcm90b2NvbH0vLyR7ZG9tYWlufS8ke2ltYWdlVXJsfWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdGl0bGUsIGZhdmljb24sIGltYWdlVXJsIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBleHRyYWN0aW5nIGxpbmsgZGF0YTonLCBlcnJvcik7XHJcblxyXG4gICAgLy8gRmFsbGJhY2s6IGJ1aWxkIHRpdGxlICYgZmF2aWNvbiBiYXNlZCBvbiBVUkwgZG9tYWluIGFuZCBwYXRoXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgIGNvbnN0IGRvbWFpbiA9IHVybE9iai5ob3N0bmFtZTtcclxuICAgICAgY29uc3Qgc2l0ZU5hbWUgPSBkb21haW4ucmVwbGFjZSgnd3d3LicsICcnKS5zcGxpdCgnLicpWzBdO1xyXG4gICAgICBjb25zdCBjYXBpdGFsaXplZFNpdGUgPSBzaXRlTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHNpdGVOYW1lLnNsaWNlKDEpO1xyXG5cclxuICAgICAgY29uc3QgcGF0aFBhcnRzID0gdXJsT2JqLnBhdGhuYW1lLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgICBsZXQgcGF0aEluZm8gPSAnJztcclxuICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdFBhcnQgPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdLnJlcGxhY2UoLy0vZywgJyAnKTtcclxuICAgICAgICBpZiAobGFzdFBhcnQgJiYgbGFzdFBhcnQubGVuZ3RoID4gMykge1xyXG4gICAgICAgICAgcGF0aEluZm8gPSBgOiAke2xhc3RQYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGFzdFBhcnQuc2xpY2UoMSl9YDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgdGl0bGU6IGAke2NhcGl0YWxpemVkU2l0ZX0gUGFnZSR7cGF0aEluZm99YCxcclxuICAgICAgICBmYXZpY29uOiBgJHt1cmxPYmoucHJvdG9jb2x9Ly8ke2RvbWFpbn0vZmF2aWNvbi5pY29gLFxyXG4gICAgICAgIGltYWdlVXJsOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHRpdGxlOiB1cmwsXHJcbiAgICAgICAgZmF2aWNvbjogbnVsbCxcclxuICAgICAgICBpbWFnZVVybDogbnVsbCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJheGlvcyIsImNoZWVyaW8iLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidXJsIiwiYm9keSIsInVybE9iaiIsIlVSTCIsImRvbWFpbiIsImhvc3RuYW1lIiwic2l0ZU5hbWUiLCJyZXBsYWNlIiwic3BsaXQiLCJjYXBpdGFsaXplZFNpdGUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwia25vd25TaXRlcyIsInRpdGxlIiwiZmF2aWNvbiIsImltYWdlVXJsIiwic2l0ZURvbWFpbiIsImluY2x1ZGVzIiwicGF0aFBhcnRzIiwicGF0aG5hbWUiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwibGFzdFBhcnQiLCJyZXNwb25zZSIsImdldCIsImhlYWRlcnMiLCJ0aW1lb3V0IiwibWF4UmVkaXJlY3RzIiwiJCIsImxvYWQiLCJkYXRhIiwidGV4dCIsInRyaW0iLCJhdHRyIiwiZmlyc3QiLCJzdWJzdHJpbmciLCJzdGFydHNXaXRoIiwicHJvdG9jb2wiLCJjb25zb2xlIiwicGF0aEluZm8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/extract-link.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/extract-link.js"));
module.exports = __webpack_exports__;

})();